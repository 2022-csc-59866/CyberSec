{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\offer\\\\OneDrive\\\\Desktop\\\\SD\\\\react-website\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { useAuth, login } from './Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  var _errors$username, _errors$password;\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const history = useHistory();\n  const [_, setAuth] = useAuth();\n  const loginUser = data => {\n    console.log(data);\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('/auth/login', requestOptions).then(res => res.json()).then(data => {\n      console.log(data.access_token);\n      if (data) {\n        login(data.access_token);\n        history.push('/');\n      } else {\n        alert('Invalid username or password');\n      }\n    });\n    reset();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Your username\",\n            ...register('username', {\n              required: true,\n              maxLength: 25\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), errors.username && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Username is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 37\n        }, this), ((_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.type) === \"maxLength\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Username should be 25 characters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 84\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Your password\",\n            ...register('password', {\n              required: true,\n              minLength: 8\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), errors.username && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Password is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }, this), ((_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.type) === \"maxLength\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Password should be more than 8 characters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            as: \"sub\",\n            variant: \"primary\",\n            onClick: handleSubmit(loginUser),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\"Do not have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \"Create One\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 52\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"wQGTBDwcScxQgT0VwpewLV9v7s8=\", false, function () {\n  return [useForm, useHistory, useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Form","Button","useHistory","useForm","useAuth","login","jsxDEV","_jsxDEV","Login","_s","_errors$username","_errors$password","register","handleSubmit","reset","formState","errors","history","_","setAuth","loginUser","data","console","log","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","access_token","push","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Group","Label","Control","type","placeholder","required","maxLength","username","style","color","minLength","password","as","variant","onClick","Link","to","_c","$RefreshReg$"],"sources":["C:/Users/offer/OneDrive/Desktop/SD/react-website/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {Form,Button} from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport {useForm} from 'react-hook-form'\r\nimport { useAuth, login } from './Auth'\r\n\r\n\r\n\r\nconst Login=()=>{\r\n    const {register,handleSubmit,reset,formState:{errors}}=useForm()\r\n    const history=useHistory()\r\n    const [_,setAuth]=useAuth()\r\n    \r\n    const loginUser=(data)=>{\r\n       console.log(data)\r\n\r\n       const requestOptions={\r\n           method:\"POST\",\r\n           headers:{\r\n               'content-type':'application/json'\r\n           },\r\n           body:JSON.stringify(data)\r\n       }\r\n        \r\n       fetch('/auth/login',requestOptions)\r\n       .then(res=>res.json())\r\n       .then(data=>{\r\n           console.log(data.access_token)\r\n           \r\n           if (data){\r\n            login(data.access_token)\r\n\r\n            history.push('/')\r\n           }\r\n           else{\r\n               alert('Invalid username or password')\r\n           }\r\n\r\n\r\n       })\r\n\r\n\r\n\r\n       reset()\r\n    }\r\n\r\n    return(\r\n        <div className=\"container\">\r\n        <div className=\"form\">\r\n            <h1>Login Page</h1>\r\n            <form>\r\n                <Form.Group>\r\n                    <Form.Label>Username</Form.Label>\r\n                    <Form.Control type=\"text\"\r\n                        placeholder=\"Your username\"\r\n                        {...register('username',{required:true,maxLength:25})}\r\n                    />\r\n                </Form.Group>\r\n                {errors.username && <p style={{color:'red'}}><small>Username is required</small></p>}\r\n                {errors.username?.type === \"maxLength\" && <p style={{color:'red'}}><small>Username should be 25 characters</small></p>}\r\n                <br></br>\r\n               \r\n                <Form.Group>\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\"\r\n                        placeholder=\"Your password\"\r\n                        {...register('password',{required:true,minLength:8})}\r\n                    />\r\n                </Form.Group>\r\n                {errors.username && <p style={{color:'red'}}><small>Password is required</small></p>}\r\n                {errors.password?.type === \"maxLength\" && <p style={{color:'red'}}>\r\n                    <small>Password should be more than 8 characters</small>\r\n                    </p>}\r\n                <br></br>\r\n                <Form.Group>\r\n                    <Button as=\"sub\" variant=\"primary\" onClick={handleSubmit(loginUser)}>Login</Button>\r\n                </Form.Group>\r\n                <br></br>\r\n                <Form.Group>\r\n                    <small>Do not have an account? <Link to='/signup'>Create One</Link></small>\r\n                </Form.Group>\r\n                \r\n            </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}